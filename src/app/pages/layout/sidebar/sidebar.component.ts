import { Component, HostListener } from '@angular/core';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

@Component({
  selector: 'app-sidebar',
  standalone: false,
  templateUrl: './sidebar.component.html',
  styleUrl: './sidebar.component.scss'
})
export class SidebarComponent {

  menuItems: { icon: SafeHtml; name: string }[] = [];
  constructor(
    private sanitizer: DomSanitizer
  ) {
    this.menuItems = [
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><g clip-path="url(#clip0_2682_4867)"><path d="M13 5H21" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13 9H18" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13 15H21" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13 19H18" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 5C3 4.73478 3.10536 4.48043 3.29289 4.29289C3.48043 4.10536 3.73478 4 4 4H8C8.26522 4 8.51957 4.10536 8.70711 4.29289C8.89464 4.48043 9 4.73478 9 5V9C9 9.26522 8.89464 9.51957 8.70711 9.70711C8.51957 9.89464 8.26522 10 8 10H4C3.73478 10 3.48043 9.89464 3.29289 9.70711C3.10536 9.51957 3 9.26522 3 9V5Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 15C3 14.7348 3.10536 14.4804 3.29289 14.2929C3.48043 14.1054 3.73478 14 4 14H8C8.26522 14 8.51957 14.1054 8.70711 14.2929C8.89464 14.4804 9 14.7348 9 15V19C9 19.2652 8.89464 19.5196 8.70711 19.7071C8.51957 19.8946 8.26522 20 8 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19V15Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_2682_4867"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'), name: 'Bookings' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><g clip-path="url(#clip0_2655_105252)"><path d="M3.33203 4.16536C3.33203 3.94435 3.41983 3.73239 3.57611 3.57611C3.73239 3.41983 3.94435 3.33203 4.16536 3.33203H7.4987C7.71971 3.33203 7.93167 3.41983 8.08795 3.57611C8.24423 3.73239 8.33203 3.94435 8.33203 4.16536V7.4987C8.33203 7.71971 8.24423 7.93167 8.08795 8.08795C7.93167 8.24423 7.71971 8.33203 7.4987 8.33203H4.16536C3.94435 8.33203 3.73239 8.24423 3.57611 8.08795C3.41983 7.93167 3.33203 7.71971 3.33203 7.4987V4.16536Z" stroke="#79716B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.668 4.16536C11.668 3.94435 11.7558 3.73239 11.912 3.57611C12.0683 3.41983 12.2803 3.33203 12.5013 3.33203H15.8346C16.0556 3.33203 16.2676 3.41983 16.4239 3.57611C16.5802 3.73239 16.668 3.94435 16.668 4.16536V7.4987C16.668 7.71971 16.5802 7.93167 16.4239 8.08795C16.2676 8.24423 16.0556 8.33203 15.8346 8.33203H12.5013C12.2803 8.33203 12.0683 8.24423 11.912 8.08795C11.7558 7.93167 11.668 7.71971 11.668 7.4987V4.16536Z" stroke="#79716B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.33203 12.5013C3.33203 12.2803 3.41983 12.0683 3.57611 11.912C3.73239 11.7558 3.94435 11.668 4.16536 11.668H7.4987C7.71971 11.668 7.93167 11.7558 8.08795 11.912C8.24423 12.0683 8.33203 12.2803 8.33203 12.5013V15.8346C8.33203 16.0556 8.24423 16.2676 8.08795 16.4239C7.93167 16.5802 7.71971 16.668 7.4987 16.668H4.16536C3.94435 16.668 3.73239 16.5802 3.57611 16.4239C3.41983 16.2676 3.33203 16.0556 3.33203 15.8346V12.5013Z" stroke="#79716B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.668 12.5013C11.668 12.2803 11.7558 12.0683 11.912 11.912C12.0683 11.7558 12.2803 11.668 12.5013 11.668H15.8346C16.0556 11.668 16.2676 11.7558 16.4239 11.912C16.5802 12.0683 16.668 12.2803 16.668 12.5013V15.8346C16.668 16.0556 16.5802 16.2676 16.4239 16.4239C16.2676 16.5802 16.0556 16.668 15.8346 16.668H12.5013C12.2803 16.668 12.0683 16.5802 11.912 16.4239C11.7558 16.2676 11.668 16.0556 11.668 15.8346V12.5013Z" stroke="#79716B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_2655_105252"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'), name: 'Dashboard' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><g clip-path="url(#clip0_2655_105260)"><path d="M10 13C10 13.5304 10.2107 14.0391 10.5858 14.4142C10.9609 14.7893 11.4696 15 12 15C12.5304 15 13.0391 14.7893 13.4142 14.4142C13.7893 14.0391 14 13.5304 14 13C14 12.4696 13.7893 11.9609 13.4142 11.5858C13.0391 11.2107 12.5304 11 12 11C11.4696 11 10.9609 11.2107 10.5858 11.5858C10.2107 11.9609 10 12.4696 10 13Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 21V20C8 19.4696 8.21071 18.9609 8.58579 18.5858C8.96086 18.2107 9.46957 18 10 18H14C14.5304 18 15.0391 18.2107 15.4142 18.5858C15.7893 18.9609 16 19.4696 16 20V21" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 5C15 5.53043 15.2107 6.03914 15.5858 6.41421C15.9609 6.78929 16.4696 7 17 7C17.5304 7 18.0391 6.78929 18.4142 6.41421C18.7893 6.03914 19 5.53043 19 5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3C16.4696 3 15.9609 3.21071 15.5858 3.58579C15.2107 3.96086 15 4.46957 15 5Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17 10H19C19.5304 10 20.0391 10.2107 20.4142 10.5858C20.7893 10.9609 21 11.4696 21 12V13" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 5C5 5.53043 5.21071 6.03914 5.58579 6.41421C5.96086 6.78929 6.46957 7 7 7C7.53043 7 8.03914 6.78929 8.41421 6.41421C8.78929 6.03914 9 5.53043 9 5C9 4.46957 8.78929 3.96086 8.41421 3.58579C8.03914 3.21071 7.53043 3 7 3C6.46957 3 5.96086 3.21071 5.58579 3.58579C5.21071 3.96086 5 4.46957 5 5Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 13V12C3 11.4696 3.21071 10.9609 3.58579 10.5858C3.96086 10.2107 4.46957 10 5 10H7" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_2655_105260"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'), name: 'team' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><g clip-path="url(#clip0_2655_105270)"><path d="M23.3562 5.10763C23.3562 4.80315 23.1723 4.52881 22.8906 4.41308L12.2853 0.0563145C12.1025 -0.0187715 11.8975 -0.0187715 11.7147 0.0563145L1.10933 4.41308C0.827712 4.52876 0.643799 4.80315 0.643799 5.10763V18.8924C0.643799 19.1968 0.827666 19.4712 1.10933 19.5869L11.7147 23.9437C11.8955 24.018 12.0988 24.0196 12.2844 23.9436C12.2934 23.9406 11.8919 24.1053 22.8906 19.5869C23.1723 19.4712 23.3562 19.1968 23.3562 18.8924V5.10763ZM12 8.71579L8.09232 7.1105L16.5372 3.42655L20.7062 5.13921L12 8.71579ZM2.14552 6.29098L5.51692 7.67599V11.5835C5.51692 11.9981 5.85312 12.3343 6.26778 12.3343C6.68245 12.3343 7.01864 11.9981 7.01864 11.5835V8.29291L11.2491 10.0308V22.1289L2.14552 18.3891V6.29098ZM12 1.56259L14.6029 2.6319L6.15806 6.31585L3.29377 5.13916L12 1.56259ZM12.7508 10.0308L21.8545 6.29098V18.3891L12.7508 22.1289V10.0308Z" fill="#79716B"></path></g><defs><clipPath id="clip0_2655_105270"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'), name: 'Services' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><g clip-path="url(#clip0_2655_105274)"><path d="M12 17.75L5.82796 20.995L7.00696 14.122L2.00696 9.25495L8.90696 8.25495L11.993 2.00195L15.079 8.25495L21.979 9.25495L16.979 14.122L18.158 20.995L12 17.75Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_2655_105274"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'), name: 'Reviews' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15.1679 18.6667H5.50126C3.20376 18.6667 1.33459 16.7975 1.33459 14.5V6.16667C1.33459 3.86917 3.20376 2 5.50126 2H15.1679C17.4654 2 19.3346 3.86917 19.3346 6.16667V14.5C19.3346 16.7975 17.4654 18.6667 15.1679 18.6667ZM5.50126 3.66667C4.12276 3.66667 3.00126 4.78817 3.00126 6.16667V14.5C3.00126 15.8785 4.12276 17 5.50126 17H15.1679C16.5464 17 17.6679 15.8785 17.6679 14.5V6.16667C17.6679 4.78817 16.5464 3.66667 15.1679 3.66667H5.50126Z" fill="#79716B"></path><path d="M18.5013 21.9993H8.66793C8.20768 21.9993 7.83459 21.6263 7.83459 21.166C7.83459 20.7058 8.20768 20.3327 8.66793 20.3327H18.5013C19.8798 20.3327 21.0013 19.2112 21.0013 17.8327V9.49935C21.0013 9.0391 21.3743 8.66602 21.8346 8.66602C22.2948 8.66602 22.6679 9.0391 22.6679 9.49935V17.8327C22.6679 20.1302 20.7988 21.9993 18.5013 21.9993Z" fill="#79716B"></path><path d="M14.1332 15.1396L9.14574 10.9833C8.84766 10.7349 8.4227 10.724 8.11224 10.9568L5.83337 12.6661C5.4652 12.9421 4.94283 12.8676 4.6667 12.4994C4.39058 12.1312 4.4652 11.6088 4.83337 11.3327L7.11228 9.62356C8.04353 8.9251 9.31849 8.95781 10.2127 9.70301L15.2002 13.8592C15.5537 14.1538 15.6015 14.6793 15.3069 15.0329C15.0118 15.387 14.4863 15.4338 14.1332 15.1396Z" fill="#79716B"></path><path d="M13.6653 10.334C12.2868 10.334 11.1653 9.21248 11.1653 7.83398C11.1653 6.45548 12.2868 5.33398 13.6653 5.33398C15.0438 5.33398 16.1653 6.45548 16.1653 7.83398C16.1653 9.21248 15.0438 10.334 13.6653 10.334ZM13.6653 7.00065C13.2058 7.00065 12.8319 7.37448 12.8319 7.83398C12.8319 8.29348 13.2058 8.66732 13.6653 8.66732C14.1248 8.66732 14.4986 8.29348 14.4986 7.83398C14.4986 7.37448 14.1248 7.00065 13.6653 7.00065Z" fill="#79716B"></path></svg>'), name: 'Manage Portfolio' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><g clip-path="url(#clip0_2655_105291)"><path d="M3 9C3 8.46957 3.21071 7.96086 3.58579 7.58579C3.96086 7.21071 4.46957 7 5 7H19C19.5304 7 20.0391 7.21071 20.4142 7.58579C20.7893 7.96086 21 8.46957 21 9V18C21 18.5304 20.7893 19.0391 20.4142 19.4142C20.0391 19.7893 19.5304 20 19 20H5C4.46957 20 3.96086 19.7893 3.58579 19.4142C3.21071 19.0391 3 18.5304 3 18V9Z" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 7V5C8 4.46957 8.21071 3.96086 8.58579 3.58579C8.96086 3.21071 9.46957 3 10 3H14C14.5304 3 15.0391 3.21071 15.4142 3.58579C15.7893 3.96086 16 4.46957 16 5V7" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 12V12.01" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 13C5.79158 14.4067 8.87403 15.1394 12 15.1394C15.126 15.1394 18.2084 14.4067 21 13" stroke="#79716B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_2655_105291"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'), name: 'Business info' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11 14.0006V22.0006H7C6.20435 22.0006 5.44129 21.6845 4.87868 21.1219C4.31607 20.5593 4 19.7962 4 19.0006V15.0006C4 14.7354 4.10536 14.481 4.29289 14.2935C4.48043 14.1059 4.73478 14.0006 5 14.0006H11ZM19 14.0006C19.2652 14.0006 19.5196 14.1059 19.7071 14.2935C19.8946 14.481 20 14.7354 20 15.0006V19.0006C20 19.7962 19.6839 20.5593 19.1213 21.1219C18.5587 21.6845 17.7956 22.0006 17 22.0006H13V14.0006H19ZM16.5 2.00059C17.0905 2.00047 17.6715 2.14975 18.1888 2.43455C18.706 2.71936 19.1429 3.13041 19.4586 3.62945C19.7743 4.1285 19.9586 4.6993 19.9943 5.28873C20.03 5.87816 19.9161 6.46705 19.663 7.00059H20C20.5304 7.00059 21.0391 7.2113 21.4142 7.58637C21.7893 7.96145 22 8.47015 22 9.00059V10.0006C22 10.531 21.7893 11.0397 21.4142 11.4148C21.0391 11.7899 20.5304 12.0006 20 12.0006H13V7.00059H11V12.0006H4C3.46957 12.0006 2.96086 11.7899 2.58579 11.4148C2.21071 11.0397 2 10.531 2 10.0006V9.00059C2 8.47015 2.21071 7.96145 2.58579 7.58637C2.96086 7.2113 3.46957 7.00059 4 7.00059H4.337C4.11488 6.53174 3.99977 6.01938 4 5.50059C4 3.56759 5.567 2.00059 7.483 2.00059C9.238 1.97059 10.795 3.09259 11.864 4.93459L12 5.17759C13.033 3.26359 14.56 2.06359 16.291 2.00259L16.5 2.00059ZM7.5 4.00059C7.10218 4.00059 6.72064 4.15862 6.43934 4.43993C6.15804 4.72123 6 5.10276 6 5.50059C6 5.89841 6.15804 6.27994 6.43934 6.56125C6.72064 6.84255 7.10218 7.00059 7.5 7.00059H10.643C9.902 5.09559 8.694 3.98059 7.5 4.00059ZM16.483 4.00059C15.303 3.98059 14.098 5.09659 13.357 7.00059H16.5C16.8978 6.99833 17.2785 6.83814 17.5582 6.55524C17.8379 6.27234 17.9938 5.88991 17.9915 5.49209C17.9892 5.09426 17.829 4.71363 17.5462 4.43392C17.2633 4.15421 16.8808 3.99833 16.483 4.00059Z" fill="#79716B"></path></svg>'), name: 'Gift Cards' },
      { icon: this.sanitizer.bypassSecurityTrustHtml('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.95 18C12.3 18 12.596 17.879 12.838 17.637C13.08 17.395 13.2007 17.0993 13.2 16.75C13.1993 16.4007 13.0787 16.1047 12.838 15.862C12.5973 15.6193 12.3013 15.4987 11.95 15.5C11.5987 15.5013 11.303 15.6223 11.063 15.863C10.823 16.1037 10.702 16.3993 10.7 16.75C10.698 17.1007 10.819 17.3967 11.063 17.638C11.307 17.8793 11.6027 18 11.95 18ZM11.05 14.15H12.9C12.9 13.6 12.9627 13.1667 13.088 12.85C13.2133 12.5333 13.5673 12.1 14.15 11.55C14.5833 11.1167 14.925 10.704 15.175 10.312C15.425 9.92 15.55 9.44934 15.55 8.9C15.55 7.96667 15.2083 7.25001 14.525 6.75001C13.8417 6.25001 13.0333 6.00001 12.1 6.00001C11.15 6.00001 10.3793 6.25001 9.788 6.75001C9.19667 7.25001 8.784 7.85001 8.55 8.55001L10.2 9.20001C10.2833 8.9 10.471 8.57501 10.763 8.22501C11.055 7.87501 11.5007 7.70001 12.1 7.70001C12.6333 7.70001 13.0333 7.846 13.3 8.138C13.5667 8.43 13.7 8.75067 13.7 9.10001C13.7 9.43334 13.6 9.74601 13.4 10.038C13.2 10.33 12.95 10.6007 12.65 10.85C11.9167 11.5 11.4667 11.9917 11.3 12.325C11.1333 12.6583 11.05 13.2667 11.05 14.15ZM12 22C10.6167 22 9.31667 21.7377 8.1 21.213C6.88334 20.6883 5.825 19.9757 4.925 19.075C4.025 18.1743 3.31267 17.116 2.788 15.9C2.26333 14.684 2.00067 13.384 2 12C1.99933 10.616 2.262 9.31601 2.788 8.10001C3.314 6.88401 4.02633 5.82567 4.925 4.92501C5.82367 4.02434 6.882 3.31201 8.1 2.78801C9.318 2.26401 10.618 2.00134 12 2.00001C13.382 1.99867 14.682 2.26134 15.9 2.78801C17.118 3.31467 18.1763 4.02701 19.075 4.92501C19.9737 5.82301 20.6863 6.88134 21.213 8.10001C21.7397 9.31867 22.002 10.6187 22 12C21.998 13.3813 21.7353 14.6813 21.212 15.9C20.6887 17.1187 19.9763 18.177 19.075 19.075C18.1737 19.973 17.1153 20.6857 15.9 21.213C14.6847 21.7403 13.3847 22.0027 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.32501C16.125 4.77501 14.2333 4.00001 12 4.00001C9.76667 4.00001 7.875 4.77501 6.325 6.32501C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z" fill="#A29D99"></path></svg>'), name: 'Help and support' },
    ];
  }

  isMobile = false;
  menuOpen = false;
  activeItem = 'Dashboard'; // مقدار پیش‌فرض دلخواه
  hoveredItem = '';

  setActiveItem(itemName: string) {
    this.activeItem = itemName;
  }


  ngOnInit() {
    this.checkMobile();
    window.addEventListener('resize', () => this.checkMobile());
  }

  checkMobile() {
    this.isMobile = window.innerWidth <= 768;
  }

  closeMenu() {
    this.menuOpen = false;
  }


}
